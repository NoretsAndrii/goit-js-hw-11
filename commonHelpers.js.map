{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function request(word) {\n  const searchParams = new URLSearchParams({\n    key: '42677735-fe61580d2fc9bff74664cab68',\n    q: word,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n","export default function createContent({ hits: arrImages }) {\n  return arrImages\n    .map(\n      image =>\n        `<li class=\"gallary-item\">\n      <a class=\"gallary-item-link\" href=\"${image.largeImageURL}\"><img\n        class=\"gallary-image\"\n        src=\"${image.webformatURL}\"\n        alt=\"${image.tags}\"\n      /></a>\n         <ul class=\"info-list\">\n          <li class=\"info-list-item\">\n            <h2 class=\"list-item-title\">Likes</h2>\n            <p class=\"list-item-info\">${image.likes}</p>\n          </li>\n          <li class=\"info-box-list-item\">\n            <h2 class=\"list-item-title\">Views</h2>\n            <p class=\"list-item-info\">${image.views}</p>\n          </li>\n          <li class=\"info-box-list-item\">\n            <h2 class=\"list-item-title\">Comments</h2>\n            <p class=\"list-item-info\">${image.comments}</p>\n          </li>\n          <li class=\"info-box-list-item\">\n            <h2 class=\"list-item-title\">Downloads</h2>\n            <p class=\"list-item-info\">${image.downloads}</p>\n          </li>\n        </ul>\n       </li>`\n    )\n    .join('');\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport request from './js/pixabay-api';\nimport createContent from './js/render-functions';\n\nconst formForSearch = document.querySelector('.form');\nconst inputFormForSearch = document.querySelector('.form-input');\nconst gallary = document.querySelector('.gallary');\n\n// Додаємо на форму обробник подій\nformForSearch.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(event) {\n  event.preventDefault();\n  const wordForSearch = inputFormForSearch.value.trim();\n\n  if (!wordForSearch) return;\n\n  //Додаєио елемент, що сповіщає користувача про те, що йде процес завантаження\n  gallary.innerHTML = '<span class=\"loader\"></span>';\n\n  //Запит на сервер\n  request(wordForSearch)\n    .then(resultOfSearch => {\n      if (resultOfSearch.hits.length === 0) {\n        gallary.innerHTML = '';\n        inputFormForSearch.value = '';\n        //Повідомлення, якщо по запиту нічого не знайдено\n        iziToast.error({\n          close: false,\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          progressBar: false,\n        });\n        return;\n      }\n      //Створення галереі зображень\n      gallary.innerHTML = createContent(resultOfSearch);\n      inputFormForSearch.value = '';\n\n      //Створюємо lightbox за допомогою бібліотеки SimpleLightbox\n      const lightbox = new SimpleLightbox('.gallary-item-link', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n      lightbox.refresh();\n    })\n    .catch(error => console.log(error));\n}\n"],"names":["request","word","searchParams","response","createContent","arrImages","image","formForSearch","inputFormForSearch","gallary","handlerSubmit","event","wordForSearch","resultOfSearch","iziToast","SimpleLightbox","error"],"mappings":"6vBAAe,SAASA,EAAQC,EAAM,CACpC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,CCfe,SAASC,EAAc,CAAE,KAAMC,GAAa,CACzD,OAAOA,EACJ,IACCC,GACE;AAAA,2CACmCA,EAAM,aAAa;AAAA;AAAA,eAE/CA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKeA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,aAIlD,EACA,KAAK,EAAE,CACZ,CCtBA,MAAMC,EAAgB,SAAS,cAAc,OAAO,EAC9CC,EAAqB,SAAS,cAAc,aAAa,EACzDC,EAAU,SAAS,cAAc,UAAU,EAGjDF,EAAc,iBAAiB,SAAUG,CAAa,EAEtD,SAASA,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpB,MAAMC,EAAgBJ,EAAmB,MAAM,KAAI,EAE9CI,IAGLH,EAAQ,UAAY,+BAGpBT,EAAQY,CAAa,EAClB,KAAKC,GAAkB,CACtB,GAAIA,EAAe,KAAK,SAAW,EAAG,CACpCJ,EAAQ,UAAY,GACpBD,EAAmB,MAAQ,GAE3BM,EAAS,MAAM,CACb,MAAO,GACP,QACE,2EACF,SAAU,WACV,YAAa,EACvB,CAAS,EACD,MACD,CAEDL,EAAQ,UAAYL,EAAcS,CAAc,EAChDL,EAAmB,MAAQ,GAGV,IAAIO,EAAe,qBAAsB,CACxD,aAAc,MACd,aAAc,GACtB,CAAO,EACQ,QAAO,CACtB,CAAK,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACtC"}